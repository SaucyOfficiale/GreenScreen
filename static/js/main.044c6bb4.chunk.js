(this.webpackJsonpselfiesegmentation_video=this.webpackJsonpselfiesegmentation_video||[]).push([[0],{15:function(e,t,n){},17:function(e,t,n){},19:function(e,t,n){"use strict";n.r(t);var i=n(1),a=n.n(i),r=n(6),c=n.n(r),s=(n(15),n(2)),o=n.n(s),d=n(4),u=n(10),l=n(7),h=n.n(l),f=n(8),g=n(9),m=(n(17),n(0)),j=function(){var e=Object(i.useRef)(null),t=Object(i.useRef)(null),n=Object(i.useState)("./vback.jpg"),a=Object(u.a)(n,2),r=a[0],c=a[1],s=function(){var n=Object(d.a)(o.a.mark((function n(i){var a,r,c,s,d;return o.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:a=document.getElementById("vbackground"),r=e.current.video.videoWidth,c=e.current.video.videoHeight,t.current.width=r,t.current.height=c,s=t.current,(d=s.getContext("2d")).save(),d.clearRect(0,0,s.width,s.height),d.drawImage(i.image,0,0,s.width,s.height),d.globalCompositeOperation="destination-atop",d.drawImage(i.segmentationMask,0,0,s.width,s.height),d.globalCompositeOperation="destination-over",d.drawImage(a,0,0,s.width,s.height),d.restore();case 15:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();Object(i.useEffect)((function(){var t=new f.SelfieSegmentation({locateFile:function(e){return"https://cdn.jsdelivr.net/npm/@mediapipe/selfie_segmentation/".concat(e)}});if(t.setOptions({modelSelection:1}),t.onResults(s),"undefined"!==typeof e.current&&null!==e.current){var n=new g.Camera(e.current.video,{onFrame:function(){var n=Object(d.a)(o.a.mark((function n(){return o.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.send({image:e.current.video});case 2:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),width:1280,height:720});n.start()}}),[]);return Object(m.jsx)(m.Fragment,{children:Object(m.jsxs)("div",{className:"container",children:[Object(m.jsx)("div",{className:"videoContainer",children:Object(m.jsx)("div",{className:"videoContent",children:Object(m.jsxs)("div",{className:"video",children:[Object(m.jsx)(h.a,{ref:e,style:{display:"none",width:"100%",height:"100%",transform:"scaleX(-1)"}}),Object(m.jsx)("canvas",{ref:t,style:{width:"100%",height:"100%",transform:"scaleX(-1)"}})]})})}),Object(m.jsxs)("div",{className:"backgroundContainer",children:[Object(m.jsx)("div",{className:"backgrounds",children:Object(m.jsx)("img",{id:"vbackground",src:r,alt:"The Screan",className:"background"})}),Object(m.jsxs)("label",{htmlFor:"contained-button-file",className:"file-upload",children:[Object(m.jsx)("input",{accept:"image/*",id:"contained-button-file",multiple:!0,type:"file",onChange:function(e){var t=new FileReader;t.onload=function(){2===t.readyState&&c(t.result)},t.readAsDataURL(e.target.files[0])}}),"Choose Background"]})]})]})})},b=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,20)).then((function(t){var n=t.getCLS,i=t.getFID,a=t.getFCP,r=t.getLCP,c=t.getTTFB;n(e),i(e),a(e),r(e),c(e)}))};c.a.render(Object(m.jsx)(a.a.StrictMode,{children:Object(m.jsx)(j,{})}),document.getElementById("root")),b()}},[[19,1,2]]]);
//# sourceMappingURL=main.044c6bb4.chunk.js.map